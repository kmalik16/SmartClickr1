$(document).ready(function(){$("#loginForm").ready(function(){$("#email").focus();$(this).submit(function(e){e.preventDefault();$(this).find(".alert").hide();var t=$("#email").val().trim();var n=$("#password").val().trim();var r=$("#remember-me").val();$(this).ajaxSubmit({type:"POST",data:{email:t,password:n,"remember-me":r},url:"/login",beforeSubmit:function(e,t,n){if(false==validateLogin($(this))){return false}},success:function(e,t,n){$("#email").removeClass("input-error").addClass("input-success");$("#password").removeClass("input-error").addClass("input-success");if(t=="success")window.location.href="/user/"+e.res},error:function(e){format='<div class="alert alert-error fade in">';format+="<strong>Uhh Ohh, </strong> your email address or password is incorrect";format+="</div>";$("#email").removeClass("input-error").addClass("input-error");$("#password").removeClass("input-error").addClass("input-error");$("#login-container h1").after(format)}});return false});validateLogin=function(e){isValid=true;var t=$("#email").val();var n=$("#password").val();if(t==""&&n==""){format='<div class="alert alert-error fade in">';format+="<strong>No email or password?</strong> Thatâ€™s just silly.";format+="</div>";$("#email").removeClass("input-error").addClass("input-error");$("#password").removeClass("input-error").addClass("input-error");$("#login-container h1").after(format);isValid=false}else if(t==""){format='<div class="alert alert-error fade in">';format+="<strong>Yikes!</strong> You entered a password but no email address";format+="</div>";$("#email").removeClass("input-error").addClass("input-error");$("#password").removeClass("input-error");$("#login-container h1").after(format);isValid=false}else if(n==""){format='<div class="alert alert-error fade in">';format+="Looks like you forgot your password, <strong>"+t+".</strong>";format+="</div>";$("#email").removeClass("input-error");$("#password").removeClass("input-error").addClass("input-error");$("#login-container h1").after(format);isValid=false}return isValid}})})